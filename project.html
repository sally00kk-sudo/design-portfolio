<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Project Details | Sally's Portfolio</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    /* --- 1. 基础变量 (与主站保持一致) --- */
    :root {
      --text-main: #000000;
      --text-sub: #555555;
      --accent: #4452FE; 
      --menu-bg: #000000;
      --menu-height: 48vh; 
      --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Microsoft YaHei", sans-serif;
      background: #fff; color: var(--text-main);
      opacity: 0; transition: opacity 0.5s ease;
      overflow-x: hidden;
    }
    body.loaded { opacity: 1; }

    img { display: block; width: 100%; height: auto; }
    a { text-decoration: none; color: inherit; transition: opacity 0.3s; }

    /* --- 2. 顶部导航 (修改：Logo左，Back右) --- */
    .detail-nav {
      position: fixed; top: 0; left: 0; width: 100%; 
      padding: 2rem 3rem; 
      display: flex; justify-content: space-between; align-items: center;
      z-index: 800; 
      /* 差值混合模式，保证在黑白背景下都可见 */
      mix-blend-mode: difference; color: #fff;
      transition: transform 0.6s var(--ease-out-expo), opacity 0.3s;
    }

    /* Logo 在左 */
    .nav-logo {
      font-size: 1.5rem; font-weight: 800; letter-spacing: 2px; text-transform: uppercase;
    }

    /* Back 按钮在右 */
    .back-btn {
      font-size: 1rem; cursor: pointer; display: flex; align-items: center; gap: 8px; font-weight: 600;
      text-transform: uppercase; letter-spacing: 1px; border: 1px solid #fff; 
      padding: 8px 20px; border-radius: 50px; transition: all 0.3s;
    }
    .back-btn:hover { background: #fff; color: #000; }

    /* 菜单打开时隐藏顶部导航 */
    body.menu-open .detail-nav { opacity: 0; pointer-events: none; }

    /* --- 3. 内容区域 --- */
    .detail-hero {
      width: 100%; height: 100vh; overflow: hidden; position: relative;
    }
    .detail-hero img {
      width: 100%; height: 100%; object-fit: cover;
      view-transition-name: hero-image; 
    }

    .detail-content {
      width: 100%; max-width: 100%; margin: 0 auto; padding: 0;
    }
    .detail-image-block {
      margin-bottom: 0; width: 100%; font-size: 0;
    }
    .detail-image-block img { width: 100%; display: block; }

    /* 底部“下一个作品” */
    .project-footer {
      padding: 8rem 3rem; text-align: center; border-top: 1px solid #f0f0f0; margin-top: 4rem; margin-bottom: 80px; /* 给底部菜单按钮留位置 */
    }
    .next-project-link {
      font-size: 2rem; font-weight: 800; text-decoration: none; color: #000;
      transition: color 0.3s;
    }
    .next-project-link:hover { color: var(--accent); }
    .next-label { display: block; font-size: 0.9rem; color: #999; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; }

    /* --- 4. 菜单样式 (复制自 work.html，保持统一) --- */
    .menu-overlay { position: fixed; bottom: 0; left: 0; width: 100%; height: var(--menu-height); background: var(--menu-bg); z-index: 900; transform: translateY(100%); transition: transform 0.6s var(--ease-out-expo); padding: 3rem 3rem 2rem 3rem; color: #fff; display: flex; flex-direction: column; border-top: 1px solid rgba(255,255,255,0.1); }
    body.menu-open .menu-overlay { transform: translateY(0); }
    .menu-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 2rem; height: 100%; max-width: 1600px; margin: 0 auto; width: 100%; }
    .menu-column { display: flex; flex-direction: column; opacity: 0; transform: translateY(30px); transition: all 0.5s ease; height: 100%; position: relative;}
    .col-dot { display: inline-block; width: 8px; height: 8px; background-color: var(--accent); border-radius: 50%; margin-right: 8px; }
    body.menu-open .menu-column:nth-child(1) { transition-delay: 0.1s; opacity: 1; transform: translateY(0); }
    body.menu-open .menu-column:nth-child(2) { transition-delay: 0.15s; opacity: 1; transform: translateY(0); }
    body.menu-open .menu-column:nth-child(3) { transition-delay: 0.2s; opacity: 1; transform: translateY(0); }
    body.menu-open .menu-column:nth-child(4) { transition-delay: 0.25s; opacity: 1; transform: translateY(0); }
    .menu-link-large { font-size: 1.8rem; font-weight: 700; margin-bottom: 0.5rem; display: block; color: #fff; }
    .menu-link-large:hover { color: var(--accent); }
    .menu-col-title { font-size: 0.75rem; text-transform: uppercase; color: #999; margin-bottom: 0.8rem; font-weight: 700; display: flex; align-items: center; }
    .menu-desc { font-size: 0.85rem; color: #666; margin-bottom: 1rem; }
    .menu-image { width: 100%; flex: 1; background: #222; border-radius: 4px; overflow: hidden; margin-top: auto; min-height: 120px; }
    .menu-image img { opacity: 0.8; height: 100%; object-fit: cover; }
    
    .menu-trigger-container { position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%); z-index: 1000; cursor: pointer; }
    .menu-btn { width: 75px; height: 75px; background-color: var(--accent); border-radius: 50px; display: flex; align-items: center; justify-content: center; box-shadow: 0 10px 30px rgba(68, 82, 254, 0.4); transition: width 0.5s var(--ease-out-expo), box-shadow 0.3s, background-color 0.3s; overflow: hidden; position: relative; }
    body.menu-open .menu-btn { background-color: #fff; box-shadow: 0 10px 30px rgba(255, 255, 255, 0.2); }
    body.menu-open .menu-icon-line { background: #000; } body.menu-open .menu-label { color: #000; }
    .menu-btn:hover { width: 170px; box-shadow: 0 15px 40px rgba(68, 82, 254, 0.6); }
    .icon-wrapper { width: 24px; height: 24px; position: relative; flex-shrink: 0; transition: transform 0.5s var(--ease-out-expo); }
    .menu-btn:hover .icon-wrapper { transform: translateX(-35px); }
    .menu-icon-line { width: 24px; height: 2px; background: #fff; position: absolute; left: 0; transition: all 0.3s ease; }
    .menu-icon-line:first-child { top: 8px; } .menu-icon-line:last-child { bottom: 8px; }
    body.menu-open .menu-icon-line:first-child { top: 50%; transform: translateY(-50%) rotate(45deg); }
    body.menu-open .menu-icon-line:last-child { bottom: 50%; transform: translateY(50%) rotate(-45deg); }
    .menu-label { position: absolute; left: 50%; font-size: 0.9rem; font-weight: 700; text-transform: uppercase; letter-spacing: 2px; color: #fff; white-space: nowrap; opacity: 0; transform: translateX(10px); transition: all 0.4s ease 0.1s; pointer-events: none; }
    .menu-btn:hover .menu-label { opacity: 1; transform: translateX(15px); }
    
    .contact-list { margin-top: 1.5rem; }
    .contact-item { display: flex; align-items: center; margin-bottom: 0.5rem; cursor: pointer; padding: 10px; border-radius: 6px; transition: background 0.2s; position: relative; }
    .contact-item:hover { background: rgba(255,255,255,0.1); }
    .contact-icon { width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; background: #333; border-radius: 50%; margin-right: 12px; color: #fff; font-size: 0.8em; }
    .contact-item:hover .contact-icon { background: var(--accent); }
    .contact-info { display: flex; flex-direction: column; }
    .contact-value { font-size: 0.95rem; color: #ddd; font-weight: 500;}
    .copy-feedback { font-size: 0.7rem; color: var(--accent); margin-left: auto; opacity: 0; transform: translateX(-5px); transition: all 0.3s; font-weight: 700; text-transform: uppercase; }
    .contact-item:hover .copy-feedback { opacity: 1; transform: translateX(0); }

    /* --- Mobile Responsive --- */
    @media (max-width: 768px) {
      /* Nav */
      .detail-nav { padding: 1.5rem; }
      
      /* Menu Fixes */
      :root { --menu-height: 100vh; } 
      .menu-overlay { z-index: 2000; padding: 4rem 2rem 8rem 2rem; display: block; overflow-y: auto; }
      .menu-grid { display: flex; flex-direction: column; gap: 1.5rem; height: auto; }
      .menu-column { height: auto; margin-bottom: 1.5rem; opacity: 1; transform: none; }
      .menu-image { display: none; }
      .menu-trigger-container { bottom: 30px; z-index: 2001; }
      .menu-btn { width: 60px !important; height: 60px !important; border-radius: 50% !important; }
      body.menu-open .menu-btn { width: 60px !important; background-color: #fff; }
      .menu-label { display: none !important; } 
      .menu-btn:hover { width: 60px !important; box-shadow: 0 10px 30px rgba(68, 82, 254, 0.4); }
      .menu-btn:hover .icon-wrapper { transform: translateX(0) !important; }

      /* Content */
      .detail-hero { height: 50vh; }
      .project-footer { padding: 4rem 1.5rem; }
      .next-project-link { font-size: 1.5rem; }
    }

    /* Animation */
    ::view-transition-old(hero-image), ::view-transition-new(hero-image) {
      animation-duration: 0.6s; animation-timing-function: cubic-bezier(0.19, 1, 0.22, 1);
    }
  </style>
</head>
<body>

  <!-- Top Nav (Logo左，Back右) -->
  <nav class="detail-nav">
    <a href="index.html" class="nav-logo">SALLY.</a>
    <!-- 点击返回 work.html -->
    <a href="work.html" class="back-btn">
      Back <i class="fa-solid fa-arrow-right" style="transform: rotate(180deg) !important; margin-left:0; margin-right:5px;"></i>
    </a>
  </nav>

  <!-- Hero Image -->
  <div class="detail-hero">
    <img id="heroImg" src="" alt="Project Cover">
  </div>

  <!-- Detail Content -->
  <div class="detail-content" id="detailContainer">
    <!-- Dynamic Content -->
  </div>

  <!-- Footer Navigation -->
  <div class="project-footer">
    <a href="#" id="nextLink" class="next-project-link">
      <span class="next-label">Next Project</span>
      <span id="nextTitle">Loading...</span> <i class="fa-solid fa-arrow-right"></i>
    </a>
  </div>

  <!-- Menu Overlay (复制自 work.html) -->
  <div class="menu-overlay">
    <div class="menu-grid">
      <div class="menu-column">
        <h3 class="menu-col-title"><span class="col-dot"></span>01</h3>
        <a href="index.html" class="menu-link-large">HOME</a>
        <p class="menu-desc">Return to the visual showcase start.</p>
        <div class="menu-image"><img src="images/banner-1.jpg" alt="Home"></div>
      </div>
      <div class="menu-column">
        <h3 class="menu-col-title"><span class="col-dot"></span>02</h3>
        <a href="work.html" class="menu-link-large">WORK</a>
        <p class="menu-desc">Selected projects involving UI/UX, Branding.</p>
        <div class="menu-image"><img src="images/p1-ecommerce.jpg" alt="Work"></div>
      </div>
      <div class="menu-column">
        <h3 class="menu-col-title"><span class="col-dot"></span>03</h3>
        <a href="about.html" class="menu-link-large">ABOUT ME</a>
        <p class="menu-desc">My resume, journey, education, and design philosophy.</p>
        <div class="menu-image"><img src="images/banner-2.jpg" alt="About"></div>
      </div>
      <div class="menu-column">
        <h3 class="menu-col-title"><span class="col-dot"></span>04</h3>
        <a href="contact.html" class="menu-link-large">CONTACT</a>
        <div class="contact-list">
          <div class="contact-item" onclick="copyToClipboard('sally00kk@gmail.com', this)">
            <div class="contact-icon"><i class="fa-solid fa-envelope"></i></div>
            <div class="contact-info"><span class="contact-value">sally00kk@gmail.com</span></div>
            <span class="copy-feedback">Copy</span>
          </div>
          <div class="contact-item" onclick="copyToClipboard('1355652997@qq.com', this)">
            <div class="contact-icon"><i class="fa-brands fa-qq"></i></div>
            <div class="contact-info"><span class="contact-value">1355652997@qq.com</span></div>
            <span class="copy-feedback">Copy</span>
          </div>
          <div class="contact-item" onclick="copyToClipboard('178-9100-3233', this)">
            <div class="contact-icon"><i class="fa-solid fa-phone"></i></div>
            <div class="contact-info"><span class="contact-value">178-9100-3233</span></div>
            <span class="copy-feedback">Copy</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Floating Menu Button -->
  <div class="menu-trigger-container" onclick="toggleMenu()">
    <div class="menu-btn">
      <div class="icon-wrapper">
        <span class="menu-icon-line"></span><span class="menu-icon-line"></span>
      </div>
      <span class="menu-label" id="menuText">Menu</span>
    </div>
  </div>

  <script>
    // ==========================================
    // 1. 作品数据配置 (Config)
    // ==========================================
    const projects = {
      // 1. 全球化电商营销体验
      "p1": {
        hero: "images/p1-hero.jpg",
        images: ["images/p1-detail-1.jpg"],
        nextId: "p2", nextTitle: "亚马逊店铺装修"
      },
      "p2": {
        hero: "images/p2-hero.jpg",
        images: ["images/p2-detail-1.jpg"],
        nextId: "p3", nextTitle: "TikTok Shop 界面设计"
      },
      "p3": {
        hero: "images/p3-hero.jpg",
        images: ["images/p3-detail-1.jpg"],
        nextId: "p4", nextTitle: "社交媒体广告创意"
      },

      // 2. 高级A+页面与广告设计
      "p4": {
        hero: "images/p4-hero.jpg",
        images: ["images/p4-detail-1.jpg"],
        nextId: "p5", nextTitle: "独立站详情页面设计"
      },
      "p5": {
        hero: "images/p5-hero.jpg",
        images: ["images/p5-detail-1.jpg"],
        nextId: "p6", nextTitle: "亚马逊高级A+页面设计"
      },
      "p6": {
        hero: "images/p6-hero.jpg",
        images: ["images/p6-detail-1.jpg"],
        nextId: "p7", nextTitle: "TikTok A+页面设计"
      },
      "p7": {
        hero: "images/p7-hero.jpg",
        images: ["images/p7-detail-1.jpg"],
        nextId: "p8", nextTitle: "包装设计与物料延展"
      },

      // 3. 品牌视觉
      "p8": {
        hero: "images/p8-hero.jpg",
        images: ["images/p8-detail-1.jpg"],
        nextId: "p9", nextTitle: "巴西酸奶品牌全案设计"
      },
      "p9": {
        hero: "images/p9-hero.jpg",
        images: ["images/p9-detail-1.jpg"],
        nextId: "p10", nextTitle: "Redtop 西部牛仔靴全案"
      },
      "p10": {
        hero: "images/p10-hero.jpg",
        images: ["images/p10-detail-1.jpg"],
        nextId: "p11", nextTitle: "工法馆与展示厅视觉设计"
      },

      // 4. 空间
      "p11": {
        hero: "images/p11-hero.jpg",
        images: ["images/p11-detail-1.jpg"],
        nextId: "p12", nextTitle: "策划以及现场调度"
      },

      // 5. 摄影
      "p12": {
        hero: "images/p12-hero.jpg",
        images: ["images/p12-detail-1.jpg"],
        nextId: "p13", nextTitle: "3D 建模与渲染练习"
      },

      // 6. 三维
      "p13": {
        hero: "images/p13-hero.jpg",
        images: ["images/p13-detail-1.jpg"],
        nextId: "p1", nextTitle: "独立站网页设计"
      }
    };

    // ==========================================
    // 2. 页面逻辑
    // ==========================================
    
    // 初始化内容
    function initProject() {
      const params = new URLSearchParams(window.location.search);
      const currentId = params.get('id');
      const data = projects[currentId] || projects["p1"];

      document.getElementById('heroImg').src = data.hero;

      const container = document.getElementById('detailContainer');
      let html = '';
      data.images.forEach(imgSrc => {
        html += `<div class="detail-image-block"><img src="${imgSrc}" loading="lazy" alt="Detail"></div>`;
      });
      container.innerHTML = html;

      document.getElementById('nextTitle').textContent = data.nextTitle;
      document.getElementById('nextLink').href = `project.html?id=${data.nextId}`;

      document.body.classList.add('loaded');
    }

    // 菜单开关
    const body = document.body;
    const menuText = document.getElementById('menuText');
    function toggleMenu() {
      body.classList.toggle('menu-open');
      menuText.textContent = body.classList.contains('menu-open') ? "Close" : "Menu";
    }

    // 复制功能
    async function copyToClipboard(text, element) {
      try {
        await navigator.clipboard.writeText(text);
        const feedback = element.querySelector('.copy-feedback');
        feedback.textContent = "Copied!"; feedback.style.color = "#44ff99";
        setTimeout(() => { feedback.textContent = "Copy"; feedback.style.color = "var(--accent)"; }, 2000);
      } catch (err) { console.error('Failed to copy: ', err); }
    }

    window.addEventListener('DOMContentLoaded', initProject);
  </script>
</body>
</html>
